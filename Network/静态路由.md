
### 什么是路由
* 路由是指导IP报文发送的路径信息
* 路由协议是路由器之间交流的语言。
路由信息的获取来源
* 直连接口，从down到up状态的过程，是链路层自己完成的。也成为直连路由
* 静态方式，网络管理人员手动配置
* 动态路由协议

### 什么是静态路由
静态路由一般是我们手工配置的. 问题是不能对网络的变化做出反应. 比如增加和减少设备. 设备挂了这种. 应对网络中我们刚才提到的问题. 在技术上我们开发了动态路协议
静态路由的使用场景:
1. 网络拓扑简单且固定的场景
2. 出口设备的默认路由

### 静态路由和动态路由对比
* 静态路由需要手工配置和维护。动态路由可以自动适配拓扑的变化

### 静态路由的写法

注意： 
1. 写目标主机的ip地址是不对的， 只是设备会自动修正。 应该写目标网段的地址
2. 华为设备静态路由的优先级是60
```shell
# huawei 
ip route-static 目标网络的网络地址 掩码 下一跳的IP地址 出接口
ip route-static 1.1.1.0 24 192.168.12.1 g0/0/0
```

默认路由
匹配所有的路由， 去向某个节点
```shell
ip route-static 0.0.0.0 0 192.168.12.1 
```

最长掩码匹配原则
路由会匹配最长掩码， 也就是说最精细匹配的路由

等价路由
两条路由的网段和掩码相同， 但是下一跳不同。 此时可能会随机命中一条

如果静态路由没有写下一跳， 直接写出接口会由什么问题？
在ping某一个IP地址的时候， 会直接请求这个IP地址的mac地址， 而不是请求下一条的mac地址。 
正常情况下下一跳地址是直连网段的地址， 通过ARP在一个广播域内是可以获得的。 但是目标IP可能不在一个广播域内， 跨越了多个路由器， 此时如果请求目标IP的mac地址， 则不能成功
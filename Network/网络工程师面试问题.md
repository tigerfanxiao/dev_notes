
### 常见的登录设备的方式
1. Telnet 是面对一些老的设备
2. AAA 认证
3. SSH 认证. 现网中使用 SSH 认证, 设备联系 Tacas 服务器进行验证. 这里要注意的点是. 有的客户把 Tacas 服务器设置在防火墙上, 比如 Pala Alto. 默认是每分钟接受 20 次 ssh 认证请求, 如果做自动化 ping 测试, 容易触发防火墙 DDos攻击报警

### TTL 是什么
TTL = Time to live, 表示这数据包的生命周期, 主要作用就是放环.


简述一下 STP的作用和工作原理
STP生成树协议, 主要是用来二层放环的. 将我们的网络修建成一个树形网络. 但是在大型网络中, 用的不多
1. 一旦网络发生变更, 收敛会比较慢. 当然有快速收敛的 RSTP, 但是计算 STP 之前会发送大量的泛洪报文, 增加拥塞. 
2. 在汇聚层中, 我们可能会做二层冗余, 会产生广播风暴. 且与接入层设备成全互联的结构. 如果用 STP 一定会造成一半的链路是阻断的. 一个好的解决方法可能是堆叠, 或者 vrrp
STP 的工作原理
1. 选举根桥, mac 地址最小的设备
2. 选举根端口, 指定端口
3. 阻塞除了根端口和指定端口之外的端口

交换机和路由器的区别
我们一般意义上理解的交换机, 主要工作在二层, 基于 mac 地址转发. 路由器工作在三层, 基于 IP 地址转发. 
现实中, 我们存在三层交换机, 用来实现跨vlan 的通信. 这类三层交换机因为接口比较多, 一般用接入层上面的汇聚层. 而路由器可能连接外网, 需要运行 NAT 或者 BGP 协议, 它的主要工作是路由寻址, 所以一般可以放在核心层, 做出口设备.


BGP和 IGP 的区别
BGP 是自治系统之间的路由协议 AS, IGP 是 AS 内部的路由协议
BGP 基于 TCP, IGP 基于 UDP
BGP 除了一次以外只做增量更新, 不会去做定期更新. IGP 会

EBGP邻接之间防止环路的方法. 
依靠 BGP 的一个路由属性 AS-path来实现, 如果路由器发现对端邻接发给自己的路由包中有自己的 AS 号, 就会丢弃. 


NAT 是什么
通过将内网的 IP 地址到公网 IP 地址之间的映射, 实现内网访问外网的作用. 没有 NAT 的 IPv4 地址早就被耗光了. 
当然也隐藏了内网的 IP, 保证内网的安全. 

类型有静态 NAT 和动态 NAT, PAT, NAPT, EASY IP 

NAPT 将多个内网的 ip 地址, 通过不同的端口号来映射到同一个外网 ip 地址上


DHCP的机制
1. 主机广播 DHCP discover 包, 请求 IP 地址
2. DHCP 服务器收到后, 会发送 DHCP Offer 包, 也是广播的, 会包含IP 地址
3. 主机收到这个包之后, 会向服务器发送 DHCP request 包
4. 服务器收到Request 包之后, 会回复 DHCP Ack 包, 确认 IP 地址租约
这时, 主机可以配置 IP 地址


MPLS 中路由器的角色有哪些
1. LER 是压入标签和弹出标签
2. LSR用于标签的交换

VPN 使用了哪些技术
1. 隧道技术
2. 数据认证技术
3. 身份认证
4. 加解密技术
5. 秘钥管理技术

防火墙的作用
1. 网络攻击的防范
2. 访问控制
3. 身份验证
4. 数据加密
5. 网络地址转换等

防火墙的数据转发原理
1. 根据源 ip, 目的 ip, 端口, 和协议转发

WLAN 漫游
在一个 SSID 下, 不同的 AP 之间漫游, 不会断




什么时候需要开启 DHCP 中继
因为 DHCP 是一种通过广播形式发送包, 这种包只能在一个广播域内传输. 如果要跨路由器传输, 就需要把这台路由器设置为 DHCP 中继

Ping 使用什么协议
ICMP 协议, 用的是 request 和 reply 两种消息


网络设备收到 TTL 为 0报文会如何处理
1. 丢弃
2. 向源 ip 地址发送 TTL 超时的信息

子网掩码的作用
1. 区分网络地址和主机地址
2. 分割子网

设备在封装数据之前需要知道什么?
1. 目的端的 ip 地址
2. 下一跳的 mac 地址

路由器选择路由的规则
1. 路由协议的优先级
2. 协议内部优先级高的路由
3. cost 值最低的路由
4.  cost 一样就负载分担

路由协议优先级
华为设备下: 
直连是 10
ospf 是 20
rip 是 100
静态路由是 60

路由加表原则
1. 有效的下一跳
2. 度量值, 管理距离, 最长匹配


二层冗余会产生的问题
1. 广播风暴, 从一个接口传出的报文, 从另一个接口传进来再发出去
2. mac 地址表震荡
3. 多帧复制

VLAN 的划分方法
1. 基于接口划分
2. 基于 mac 地址划分
3. 基于网络层协议划分
4. 基于 IP 组播划分
5. 基于策略划分
6. 按用户定义的进行划分

前缀列表和 ACL 的区别
1. 前缀列表不能匹配不连续的子网掩码
2. acl 可以匹配不规则的子网掩码



vrrp 和软堆叠的区别

